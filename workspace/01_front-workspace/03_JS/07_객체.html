<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .area {
            border: 1px solid pink;
            background-color: lightblue;
        }

        .big {
            height: 500px;
        }

        .small {
            height: 250px;
        }
    </style>
</head>

<body>
    <h1>* 객체</h1>
    <h3>* 객체 선언 및 사용</h3>
    <p>
        객체는 {}를 사용해서 생성하고, <br>
        {} 중괄호 안에 필요한 속성들을 정의한다.<br>
        * 형태 => 속성명(key) : 속성값(value) <br>
        <br><br>
        객체를 파일로 저장할 때 확장자를 .json으로 설정<br>
        JSON 형식이라고 표현하기도한다.
    </p>
    <pre>
        변수 = {
            속성명: 속성값,
            속성명: 속성값,
            속성명: 속성값,
            ...
        }
    </pre>
    <button onclick="test1();">실행</button>
    <div class="area big" id="area1"></div>
    <script>
        function test1() {
            //객체 선언
            /*
                제품 정보
                - 이름: 망고 - 가격: 10000 -원산지: 필리핀 -사이즈:가로10, 세로 15 제품 번호 100
            */
            let product = {
                name: "망고",
                price: 10000,
                madeIn: "필리핀산",
                size: { width: 10, height: 15 },
                "product number": 100,
                etc: [1, 2, 3],
                "acb!!": "xxx"
            }
            console.log(product);
            console.log(typeof (product)); // => 객체는 object 타입

            const area1 = document.querySelector("#area1");
            area1.innerHTML = "product: " + product + "<br>";
            // 객체의 속성에 접근하는 방법
            //1) 연결(접근) 연산자. 을 사용 : 객체명.속성명 => 속성값
            area1.innerHTML += "<b>객체.속성명 으로 접근하기</b><br>";
            area1.innerHTML += "<b>제품명: </b>" + product.name + "<br>";
            area1.innerHTML += "<b>가격: </b>" + product.price + "<br>";
            area1.innerHTML += "<b>원산지: </b>" + product.madeIn + "<br>";
            area1.innerHTML += "<b>사이즈: </b>" + product.size.width + "x" + product.size.height + "<br>";
            area1.innerHTML += "기타: " + product.etc[2] + "<br>";
            // 연결 연산자로 접근 불가일 경우 대관호[]를 이용해 문자열 형태로 작성
            // 예시 product["product number"] 또는 product["acb!!"] 이런 형식으로 작성
            // 객체명['속성명'] => 속성값
            area1.innerHTML += "<b>객체['속성명'] 으로 접근하기</b><br>";
            area1.innerHTML += "제품 번호: " + product["product number"] + "<br>";
            area1.innerHTML += "abc!!: " + product["acb!!"] + "<br>";
            area1.innerHTML += "크기: " + product["size"].width + "x" + product["size"].height + "<br>";
            area1.innerHTML += "크기: " + product["size"][width] + "x" + product["size"][height] + "<br>"
        }
    </script>
    <hr>
    <h3>객체에서의 반복문</h3>
    <button onclick="test2();">실행</button>
    <div class="area small" id="area2"></div>
    <script>
        function test2() {
            // #area2 요소 객체 접근
            const area2 = document.getElementById('area2');
            const arr = ["공유", 40, true];
            for (let item of arr) {
                area2.innerHTML += item + "<br>";
            }
            area2.innerHTML += "<hr>";
            //객체는 for~of문을 사용할 수 없음 => 타입 오류 발생!
            const human = {
                name: "공유",
                age: 40,
                etc: true
            };
            /*for(let item of human){
                area2.innerHTML += item + "<br>";
            }*/
            // 객체는 for~in문을 사용할 수 있는데 속성값이 아닌 속성명을 가지고 온다
            // 속성값을 가지고 오고 싶다면

            //for (let key in human) {
                //area2.innerHTML += key +": " + human.key + "<br>";
                // 객체에서 key라는 속성을 찾는 것이다
                //area2.innerHTML += key + ": " + human[key] + "<br>";
            //}
            //key 라는 변수 human 객체가 가지고 있는 속성명들이 저장되는 변수
            // key = "name"; -> "age" -> 'etc'
            //human[key] => human['name'] , human['age'], human['etc'] 
        }
       // console.log(key);
        //console.log(typeod(key));
    </script>
    <hr>
    <h3>객체의 함수 속성: 메소드(method)</h3>
    <p>
        객체의 속성 중 함수 형태의 속성을 메소드라고 부름
    </p>
    <button onclick="test3();">실행</button>
    <div class="area small" id="area3"></div>
    <script>
        function test3() {
            const area3 = document.getElementById("area3");
            /*
                ----------------정의---------------
            */
            const dog = {
                name: '찬이',
                kind: "웰시코기",
                eat: function(food) {
                    area3.innerHTML += "<em>etc메소드호출</em> <br>";
                    //찬이가 간식을 먹었습니다
                    //area3.innerHTML += "찬이가 간식을 먹었습니다."
                    area3.innerHTML += this.name + "가"+food+ "간식을 먹었다." +"<br>";
                }
            };
            //-----------------실행---------------------
            //-----------------------------------------
            area3.innerHTML +="이름: "+ dog.name + "<br>";
            dog.eat('고구마');
            dog.eat('오리목뼈');
            //-----------------------------------------

        }
    </script>

    <hr>

    <h3>in, with 키워드</h3>
    <p>
        *in : 객체 내의 해당 속성이 있는지 확인해주는 키워드
        (true : 존재하는 속성, false: 존재하지 않는 속성)
    </p>
    <p>
        *with : 객체의 속성 접근 시 객체 별로 속성을 제시하는 것을 생략할 수 있게<br>
        해주는 키워드(코드를 간결하게 도와줌!) 
    </p>
    <label for="name">이름:</label>
    <input type="text" id="name"><br>
    <label for="name">국어: <input type="number" id="kor">
    </label>
    <label for="name">수학: <input type="number" id="math">
    </label>
    <label for="name">영어: <input type="number" id="eng">
    </label>
    <button onclick="test4();">실행</button>
    <div class="area big" id="area4"></div>
    <script>
        function test4(){
            const student = {
                name: document.getElementById("name").value,
                kor: Number(document.getElementById("kor").value),
                math: Number(document.getElementById("math").value),
                eng: Number(document.getElementById("eng").value),
                toString: function(){
                    //return "테스트!!"
                    return `${this.name}: ${this.kor}, ${this.math}, ${this.eng}`;
                },
                getSum: function(){
                    return this.kor+this.math+this.eng;
                    //return `${parseInt.sum} = ${parseInt.kor}+${parseInt.math}+${parseInt.eng}`;
                },
                getAvg:function(){
                    return this.getSum()/3;
                } 
            };
            // student.name = document.getElementById("name").value; 위의 코드와 동일 line:178
            const area4 = document.getElementById('area4');
            area4.innerHTML = "학생 정보: " +student.toString() + "<br>";
            area4.innerHTML += "이름: "+ student.name + "<br>";
            area4.innerHTML += "국어: "+ student.kor + "<br>";
            area4.innerHTML += "수학: "+ student.math + "<br>";
            area4.innerHTML += "영어: "+ student.eng + "<br>";
            //* in ==> '속성명' in 객체명 -> true/false
            area4.innerHTML += "name 속성이 있는가? "+  ('name'in student) +"<br>";
            area4.innerHTML += "game 속성이 있는가? "+  ('game'in student) +"<br>";
            //* with ==> with(객체명){속성명}
            with(student){
                area4.innerHTML += "이름: "+ name + "<br>";
                area4.innerHTML += "국어 점수: "+ kor + "<br>";
                area4.innerHTML += "수학 점수: "+ math + "<br>";
                area4.innerHTML += "영어 점수: "+ eng + "<br>";
                area4.innerHTML += "총합: "+getSum() + "<br>";
                area4.innerHTML += "평균: "+getAvg() +"<br>";
            }
        }
        //배열 이름을 호출하면 toString으로 표현
    </script>

    <hr>

    <h3>객체의 속성을 추가 & 삭제</h3>
    <p>

    </p>
    <button onclick="test5();">실행</button>
    <div class="area small" id="area5"></div>
    <script>
        function test5(){
            const area5 = document.getElementById("area5");
            //비어있는 객체[]는 배열, {} 객체
            const student = {
                
            };
            //속성 추가하기
            student.name ="이윤서";
            area5.innerHTML = "이름: "+ student.name + "<br>";

            student.hobby=["온라인 게임", "산책하기"]; // 배열 형태도
            area5.innerHTML += "취미: "+ student.hobby +"<br>";

            student.toString = function(){
                return "name: " +this.name+ ", hobby: "+this.hobby;
            }
            area5.innerHTML += "student => "+ student/*.toString() 생략*/ +"<br>";
            console.log(student);

            //속성 제거
            delete(student.name); // 속성 자체를 삭제
            console.log(student);

            student.hubby = null; // 속성을 유지하고 값만 제거
            console.log(student);
        }
        //ES6
    </script>

    <hr>

    <h3>객체 배열을 사용하여 다량의 데이터를 관리</h3>
    <button onclick="test6();">실행</button>
    <div class="area small" id="area6"></div>
    <script>
        function test6(){
            const student0 = {name:"구세연", age:27, gender:"여"};
            const student1 = {name:"임성준", age:26, gender:"남"};
            const student2 = {name:"김일현", age:25, gender:"남"};
            const student3 = {name:"유성재", age:26, gender:"남"};

            const stdArr = []; //[{...}] 
            stdArr.push(student0);//[{...}] 
            stdArr.push(student1);//[{...}, {...}] 
            stdArr.push(student2);//[{...}, {...}, {...}] 
            stdArr.push(student3);//[{...}, {...}, {...}, {...}] 
            console.log(student2);
            console.log(stdArr[2]);
            console.log(stdArr[2].name); // 위치값으로 먼저 객체를 찾고, 해당 객체의 속성으로 접근

            //학생 이름을 area6 요소에 출력
            for(const item of stdArr){ 
                //item => 변수 다르게 지정해도 됨, i ==item 같은 의미
                document.getElementById('area6').innerHTML +=  item.name + "<br>";
                 //배열의 아이템(반복문이 실행되면서 처음위치부터 마지막 위치까지 접근)
            }
            // 기본 조건문
            for(let i=stdArr.length-1; i>=0; i--){ //반대로 정렬 가능
                document.getElementById('area6').innerHTML += stdArr[i].name + "<br>";

                stdArr[i] // 배열에서 i번째 인덱스 위치 데이터
            }

            
        }
    </script>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>

</html>